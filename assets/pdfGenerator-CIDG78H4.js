import{E as I}from"./jspdf.es.min-DQ__GkXo.js";import{autoTable as N}from"./jspdf.plugin.autotable-DZlIrCiz.js";import"./index-tcd4etp6.js";const v=(n,d,a)=>{const s=e=>{if(!e)return 0;const t=String(e).replace(/[^0-9.-]+/g,"");return t===""||t==="-"?0:parseFloat(t)||0},c=e=>isNaN(e)?"Rs. 0.00":`Rs. ${new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}`,i=new I({orientation:"portrait",unit:"mm",format:"a4"});i.setFontSize(10);const p=new Date().toLocaleDateString();if(i.text(`System Generated on: ${p}`,14,28),!n||n.length===0){i.text("No data available.",14,40),i.save(`${d}_Report.pdf`);return}const r=[{header:"S.No",dataKey:"S.No"},{header:"Beneficiary",dataKey:"Beneficiary Name"},{header:"IFSC Code",dataKey:"IFSC Code"},{header:"Account Number",dataKey:"ACCOUNT NUMBER"}];(a==="sac"||a==="both")&&r.push({header:a==="both"?"Proposed":"Proposed Payment",dataKey:"Proposed Payment Individual"}),(a==="cfms"||a==="both")&&r.push({header:a==="both"?"Credited":"Credited Payment",dataKey:"Credited Payment Individual"});let f=0,m=0;const P=n.map(e=>{const t=o=>{const g=Object.keys(e).find(b=>b.trim()===o);return g?e[g]:""},y=t("Proposed Payment Individual"),h=t("Credited Payment Individual");f+=s(y),m+=s(h);const C=o=>o?String(o).replace(/â‚¹/g,"Rs.").trim():"-";return{"S.No":e["S.No"]||"-","Beneficiary Name":t("NAME OF THE BENEFICIARY")||t("Beneficiary Name"),"IFSC Code":t("IFSC Code")||t("IFSC"),"ACCOUNT NUMBER":t("ACCOUNT NUMBER"),"Proposed Payment Individual":C(y),"Credited Payment Individual":C(h)}}),l=["","TOTAL:","",""];(a==="sac"||a==="both")&&l.push(c(f)),(a==="cfms"||a==="both")&&l.push(c(m));const u={startY:35,columns:r,body:P,theme:"grid",styles:{fontSize:7,overflow:"ellipsize",cellPadding:2,valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:255,halign:"center",fontStyle:"bold"},columnStyles:{"S.No":{halign:"center",cellWidth:10},"Proposed Payment Individual":{halign:"right"},"Credited Payment Individual":{halign:"right"},"Beneficiary Name":{halign:"left"}},margin:{top:35,left:10,right:10,bottom:20},foot:[l],footStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold",halign:"right"},didParseCell:e=>{e.section==="foot"&&e.column.dataKey==="Beneficiary Name"&&(e.cell.styles.halign="right")}};if(typeof N=="function")N(i,u);else if(typeof i.autoTable=="function")i.autoTable(u);else throw new Error("PDF Table plugin (autoTable) failed to load.");const S=d.replace(/[^a-z0-9]/gi,"_");i.save(`${S}_Report.pdf`)};export{v as generateVendorPdf};
