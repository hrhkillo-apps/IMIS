import{E as F}from"./jspdf.es.min-BRjiY1KI.js";import{autoTable as p}from"./jspdf.plugin.autotable-DZlIrCiz.js";import"./index-CYVJSzV8.js";const w=(r,n,t)=>{const c=e=>{if(!e)return 0;const i=String(e).replace(/[^0-9.-]+/g,"");return i===""||i==="-"?0:parseFloat(i)||0},f=e=>isNaN(e)?"Rs. 0.00":`Rs. ${new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}`,a=new F({orientation:"portrait",unit:"mm",format:"a4"});let o=`Commitment Analysis: ${n}`;t==="sac"?o=`Proposed Payments: ${n}`:t==="cfms"?o=`Credited Payments: ${n}`:t==="both"&&(o=`Commitment Status Report: ${n}`),a.setFontSize(16),a.text(o,14,20),a.setFontSize(10);const S=new Date().toLocaleDateString();if(a.text(`Generated on: ${S}`,14,28),!r||r.length===0){a.text("No data available.",14,40),a.save(`${n}_Report.pdf`);return}const s=[{header:"S.No",dataKey:"S.No"},{header:"Beneficiary",dataKey:"Beneficiary Name"},{header:"IFSC Code",dataKey:"IFSC Code"},{header:"Account Number",dataKey:"ACCOUNT NUMBER"}];(t==="sac"||t==="both")&&s.push({header:t==="both"?"Proposed":"Proposed Payment",dataKey:"Proposed Payment Individual"}),(t==="cfms"||t==="both")&&s.push({header:t==="both"?"Credited":"Credited Payment",dataKey:"Credited Payment Individual"});let m=0,u=0;const b=r.map(e=>{const i=l=>{const P=Object.keys(e).find(I=>I.trim()===l);return P?e[P]:""},h=i("Proposed Payment Individual"),C=i("Credited Payment Individual");m+=c(h),u+=c(C);const g=l=>l?String(l).replace(/â‚¹/g,"Rs.").trim():"-";return{"S.No":e["S.No"]||"-","Beneficiary Name":i("NAME OF THE BENEFICIARY")||i("Beneficiary Name"),"IFSC Code":i("IFSC Code")||i("IFSC"),"ACCOUNT NUMBER":i("ACCOUNT NUMBER"),"Proposed Payment Individual":g(h),"Credited Payment Individual":g(C)}}),d=["","TOTAL:","",""];(t==="sac"||t==="both")&&d.push(f(m)),(t==="cfms"||t==="both")&&d.push(f(u));const y={startY:35,columns:s,body:b,theme:"grid",styles:{fontSize:7,overflow:"ellipsize",cellPadding:2,valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:255,halign:"center",fontStyle:"bold"},columnStyles:{"S.No":{halign:"center",cellWidth:10},"Proposed Payment Individual":{halign:"right"},"Credited Payment Individual":{halign:"right"},"Beneficiary Name":{halign:"left"}},margin:{top:35,left:10,right:10,bottom:20},foot:[d],footStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold",halign:"right"},didParseCell:e=>{e.section==="foot"&&e.column.dataKey==="Beneficiary Name"&&(e.cell.styles.halign="right")}};if(typeof p=="function")p(a,y);else if(typeof a.autoTable=="function")a.autoTable(y);else throw new Error("PDF Table plugin (autoTable) failed to load.");const N=n.replace(/[^a-z0-9]/gi,"_");a.save(`${N}_Report.pdf`)};export{w as generateVendorPdf};
